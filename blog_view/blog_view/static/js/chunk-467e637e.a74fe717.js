(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-467e637e"],{"06df":function(t,e,a){"use strict";a("adff")},adff:function(t,e,a){},bf65:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("div",{staticClass:"articleHead"},[a("h1",[t._v(t._s(t.article.title))]),a("div",[t._v(t._s(t.article.author))]),t.article.tags?a("div",[a("el-tag",{staticStyle:{left:"14px"}},[t._v(t._s(t.article.tags[0]))]),a("el-tag",{staticStyle:{left:"74px"},attrs:{type:"success"}},[t._v(t._s(t.article.tags[1]))]),a("el-tag",{staticStyle:{left:"144px"},attrs:{type:"info"}},[t._v(t._s(t.article.tags[2]))])],1):t._e()]),a("div",{staticClass:"articleContent",domProps:{innerHTML:t._s(t.article.content)}},[t._v(" "+t._s(t.article.content)+" ")]),a("div",{staticClass:"articleFooter"},[a("div",{staticClass:"articleMessages"},[a("label",{attrs:{for:""}},[a("i",{staticClass:"el-icon-view"}),t._v(" "+t._s(t.article.numberOfView))]),a("label",{attrs:{for:""}},[a("i",{staticClass:"el-icon-thumb"}),t._v(" "+t._s(t.article.numberOfLike))]),a("label",{attrs:{for:""}},[a("i",{staticClass:"el-icon-chat-dot-square"}),t._v(" "+t._s(t.article.numberOfComment))]),t._m(0),t._m(1)]),a("div",{staticClass:"writeComment"},[a("el-input",{staticStyle:{"font-size":"20px"},attrs:{type:"textarea",icon:"el-icon-bell",placeholder:"留下你的评论...",maxlength:"100",rows:3,"show-word-limit":""},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}}),a("el-button",{staticStyle:{width:"100%","margin-top":"5px","font-size":"20px"},attrs:{type:"primary"},on:{click:t.publishComment}},[t._v("确认发表")])],1),t.comments?a("div",{staticClass:"comments"},t._l(t.comments,(function(e,s){return a("div",{key:s,staticClass:"comment"},[a("div",{staticClass:"commenter"},[a("el-avatar",{attrs:{icon:"el-icon-user-solid"}}),t.users[s]?a("p",{staticClass:"commentName"},[t._v(t._s(t.users[s].nickname))]):t._e()],1),a("div",{staticClass:"commentContent"},[a("p",[t._v(" "+t._s(e.content)+" ")])]),a("div",{staticClass:"commentMessages"},[a("label",{attrs:{for:""}},[a("i",{staticClass:"el-icon-view"}),t._v(" "+t._s(e.numberOfView))]),a("label",{attrs:{for:""}},[a("i",{staticClass:"el-icon-thumb"}),t._v(" "+t._s(e.numberOfLike))]),a("label",{attrs:{for:""}},[a("i",{staticClass:"el-icon-chat-dot-square"}),t._v(" "+t._s(e.numberOfReply))]),t._m(2,!0),t._m(3,!0)])])})),0):t._e()])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{},[a("i",{staticClass:"el-icon-bell"}),t._v("2022-3-22 15:39")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticStyle:{float:"right"}},[a("i",{staticClass:"el-icon-date"}),t._v("发表评论")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",[a("i",{staticClass:"el-icon-date"}),t._v("2022-3-22 15:39")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticStyle:{float:"right"}},[a("i",{staticClass:"el-icon-top-left"}),t._v("回复")])}],n=(a("a9e3"),a("ac1f"),a("12767"),a("d3b7"),a("159b"),a("18a8")),c=a("7284"),l=a("1602"),r={data:function(){return{id:Number,article:{},comments:[],users:[],comment:"",isShow:!1}},mounted:function(){var t=this,e=this;this.id=Number(this.$route.query.articleId),Object(n["c"])(this.id).then((function(e){t.article=e.data.data,t.article.tags=t.article.tags.split(",")})),Object(c["b"])(this.id).then((function(e){return t.comments=e.data.data,e.data.data})).then((function(t){t.forEach((function(t){Object(l["a"])(Number(t.observerId)).then((function(t){e.users.push(t.data.data)}))}))}))},computed:{},methods:{showUserMenuBar:function(t){this.isShow=t},addZero:function(t){return t<10?"0"+t:t},getNowDate:function(){var t=new Date,e=t.getFullYear(),a=t.getMonth()+1,s=t.getDate(),i=t.getHours(),n=t.getMinutes(),c=t.getSeconds(),l=e+"-"+this.addZero(a)+"-"+this.addZero(s)+" "+this.addZero(i)+":"+this.addZero(n)+":"+this.addZero(c);return l},publishComment:function(){if(0==this.comment.length)alert("评论不可以为空哦");else if(null==this.$store.state.userData)alert("需要登录后才可以评论");else{var t={content:this.comment,observerId:JSON.parse(this.$store.state.userData).id,articleId:this.id,replyId:0,date:this.getNowDate(),numberOfLike:0,numberOfReply:0,numberOfView:0};Object(c["a"])(t).then((function(t){alert(t.data.data),location.reload()})).catch((function(t){console.log(t),alert("发布评论失败")}))}}},components:{}},o=r,u=(a("06df"),a("2877")),m=Object(u["a"])(o,s,i,!1,null,"69c92557",null);e["default"]=m.exports}}]);
//# sourceMappingURL=chunk-467e637e.a74fe717.js.map